color = political_identity_3),
method = "lm",
alpha = 0.2) +
ylim(-3, 3) +
xlim(-1.5, 1.5) +
scale_color_viridis_c() +
facet_wrap(~domain, ncol = 4)
ggplot(temp_1) +
geom_smooth(aes(x = D,
y = prefer,
group = political_identity_3,
color = political_identity_3),
method = "lm",
alpha = 0.2) +
scale_color_viridis_c() +
facet_wrap(~domain, ncol = 4)
data_subscales <- trimmed_data %>%
select(user_id, session_id,
BFI_E_subscale, BFI_C_subscale, BFI_N_subscale, BFI_A_subscale, BFI_O_subscale,
NFCC_P_subscale, NFCC_D_subscale, NFCC_C_subscale, NFCC_O_subscale, NFCC_A_subscale) %>%
gather(individual_differences_measure, individual_differences_sum_score,
c("BFI_E_subscale", "BFI_C_subscale", "BFI_N_subscale", "BFI_A_subscale", "BFI_O_subscale",
"NFCC_P_subscale", "NFCC_D_subscale", "NFCC_C_subscale", "NFCC_O_subscale", "NFCC_A_subscale")) %>%
na.omit() %>%
spread(individual_differences_measure, individual_differences_sum_score) %>%
rename(agreeabld = "BFI_A_subscale",
conscient = "BFI_C_subscale",
extro = "BFI_E_subscale",
neurot = "BFI_N_subscale",
openness = "BFI_O_subscale",
close_mind = "NFCC_C_subscale",
decisive = "NFCC_D_subscale",
order = "NFCC_O_subscale",
ambiguity = "NFCC_O_subscale",
predict = "NFCC_P_subscale")
data_scales <- trimmed_data %>%
select(user_id, session_id, political_identity,
individual_differences_sum_score, individual_differences_measure) %>%
mutate(political_identity = dplyr::recode(political_identity,
"Strongly Liberal" = 3,
"Moderately Liberal" = 2,
"Slightly Liberal" = 1,
"Neutral (Moderate)" = 0,
"Slightly Conservative" = -1,
"Moderately Conservative" = -2,
"Strongly Conservative" = -3)) %>%
spread(individual_differences_measure, individual_differences_sum_score) %>%
rename(imp_manag = "BIDR-IM",
self_decep = "BIDR-SDE",
bjw = "BJW",
racism = "BRS",
human_egal = "HE",
control_o = "ICAT-O",
control_s = "ICAT-S",
need_cog = "NFC",
work_ethic = "PE",
structure = "PNS",
self_esteem = "RSE",
rwa = "RWA",
soc_dom = "SDO",
s_monitor = "SM",
intpers_c = "SOC-IC",
per_effic = "SOC-PE") %>%
select(user_id,
political_identity,
imp_manag,
self_decep,
bjw,
racism,
human_egal,
control_o,
control_s,
need_cog,
work_ethic,
structure,
self_esteem,
rwa,
soc_dom,
s_monitor,
intpers_c,
per_effic)
data_combined <- left_join(data_scales, data_subscales, by = "user_id")
View(data_combined)
data_combined <- left_join(data_scales, data_subscales, by = "user_id") %>%
select(-user_id, -session_id)
data_combined <- left_join(data_scales, data_subscales, by = "user_id") %>%
#select(-user_id, -session_id) %>%
select(-user_id) %>%
group_by(user_id) %>%
summarize_all(my_function) %>%
ungroup() %>%
select(noquote(order(colnames(.))))
data_combined <- left_join(data_scales, data_subscales, by = "user_id") %>%
#select(-user_id, -session_id) %>%
select(-session_id) %>%
group_by(user_id) %>%
summarize_all(my_function) %>%
ungroup() %>%
select(noquote(order(colnames(.))))
data_combined <- left_join(data_scales, data_subscales, by = "user_id") %>%
select(-user_id, -session_id)
View(data_combined)
save(data_combined, file = "data/data_combined.RData")
correlations <- data_combined %>%
cor(., method = "pearson", use = "pairwise.complete.obs") %>%
as.data.frame()
View(correlations)
data_combined <- left_join(data_scales, data_subscales, by = "user_id") %>%
select(-session_id) %>%
group_by(user_id) %>%
summarize_all(my_function) %>%
ungroup() %>%
select(noquote(order(colnames(.)))) %>%
select(-user_id)
save(data_combined, file = "data/data_combined.RData")
correlations <- data_combined %>%
cor(., method = "pearson", use = "pairwise.complete.obs") %>%
as.data.frame()
plot_correlations <-
qgraph(correlations,
layout = "spring")
plot_correlations <-
qgraph(correlations,
layout = "circle",
label.norm = "XXXXXXXXXX")
?qgraph
plot_correlations <-
qgraph(correlations,
layout = "circle",
label.norm = "XXXXXXXXXX",
label.scale = TRUE)
plot_correlations <-
qgraph(correlations,
layout = "circle",
label.norm = "XXXXXXXXXX",
label.scale = FALSE)
plot_correlations <-
qgraph(correlations,
layout = "circle",
label.norm = "XXXXXXXXXX",
legend = TRUE)
plot_correlations <-
qgraph(correlations,
layout = "circle",
#label.norm = "XXXXXXXXXX",
legend = TRUE)
plot_correlations <-
qgraph(correlations,
layout = "circle")
plot_correlations <-
qgraph(correlations,
legend = TRUE, borders = FALSE)
plot_correlations <-
qgraph(correlations,
layout = "circle")
plot_correlations_2 <- plot_correlations
plot_correlations_2$Edgelist$weight <-
ifelse(abs(plot_correlations_2$Edgelist$weight) < .25,
0,
plot_correlations_2$Edgelist$weight)
qgraph(plot_correlations_2,
labels = plot_correlations$graphAttributes$Nodes$labels,
layout = "spring")
plot_correlations <-
qgraph(cor(data_combined),
layout = "circle")
View(data_combined)
?mutate_all
t <- data_combined %>%
mutate_all(.funs = function(input){ifelse(is.nan(input), NA, input)})
View(t)
data_combined <- data_combined %>%
mutate_all(.funs = function(input){ifelse(is.nan(input), NA, input)})
save(data_combined, file = "data/data_combined.RData")
plot_correlations <-
qgraph(cor(data_combined),
layout = "circle")
plot_correlations <-
qgraph(cor(data_combined, method = "pearson", use = "pairwise.complete.obs"),
layout = "circle")
plot_correlations <-
qgraph(cor(data_combined, method = "pearson", use = "pairwise.complete.obs"),
legend = TRUE,
layout = "circle")
plot_correlations <-
qgraph(cor(data_combined, method = "pearson", use = "pairwise.complete.obs"),
layout = "circle")
plot_correlations <-
qgraph(cor(data_combined, method = "pearson", use = "pairwise.complete.obs"),
layout = "spring")
cors <-
plot_correlations <-
qgraph(cor(data_combined, method = "pearson", use = "pairwise.complete.obs"),
layout = "spring")
cors <- cor(data_combined, method = "pearson", use = "pairwise.complete.obs")
cors <- cor(data_combined, method = "pearson", use = "pairwise.complete.obs") %>%
as.data.frame()
# for visual inspection of data
cors <- cor(data_combined, method = "pearson", use = "pairwise.complete.obs") %>%
as.data.frame()
View(cors)
# for visual inspection of data
cors <- cor(data_combined, method = "pearson", use = "pairwise.complete.obs") %>%
as.data.frame() %>%
select(political_identity)
data_subscales <- trimmed_data %>%
select(user_id, session_id,
BFI_E_subscale, BFI_C_subscale, BFI_N_subscale, BFI_A_subscale, BFI_O_subscale,
NFCC_P_subscale, NFCC_D_subscale, NFCC_C_subscale, NFCC_O_subscale, NFCC_A_subscale) %>%
gather(individual_differences_measure, individual_differences_sum_score,
c("BFI_E_subscale", "BFI_C_subscale", "BFI_N_subscale", "BFI_A_subscale", "BFI_O_subscale",
"NFCC_P_subscale", "NFCC_D_subscale", "NFCC_C_subscale", "NFCC_O_subscale", "NFCC_A_subscale")) %>%
na.omit() %>%
spread(individual_differences_measure, individual_differences_sum_score) %>%
rename(agreeabld = "BFI_A_subscale",
conscient = "BFI_C_subscale",
extro = "BFI_E_subscale",
neurot = "BFI_N_subscale",
openness = "BFI_O_subscale",
close_mind = "NFCC_C_subscale",
decisive = "NFCC_D_subscale",
order = "NFCC_O_subscale",
ambiguity = "NFCC_A_subscale",
predict = "NFCC_P_subscale")
my_function <- function(input) {mean(input, na.rm = TRUE)}
data_combined <- left_join(data_scales, data_subscales, by = "user_id") %>%
select(-session_id) %>%
# i have no idea what this does or why, but it makes the correlations below work. many NA without it.
group_by(user_id) %>%
summarize_all(my_function) %>%
ungroup() %>%
select(noquote(order(colnames(.)))) %>%
select(-user_id) %>%
mutate_all(.funs = function(input){ifelse(is.nan(input), NA, input)})
save(data_combined, file = "data/data_combined.RData")
# for visual inspection of data
cors <- cor(data_combined, method = "pearson", use = "pairwise.complete.obs") %>%
as.data.frame() %>%
select(political_identity)
# get data
load("~/git/Attitudes-2.0/data/subsets/AIID_subset_exploratory.RData")
renamed_data <- trimmed_data %>%
select(political_identity,
individual_differences_sum_score, individual_differences_measure,
BFI_E_subscale, BFI_C_subscale, BFI_N_subscale, BFI_A_subscale, BFI_O_subscale,
NFCC_P_subscale, NFCC_D_subscale, NFCC_C_subscale, NFCC_O_subscale, NFCC_A_subscale)
data_subscales <- trimmed_data %>%
select(user_id, session_id,
BFI_E_subscale, BFI_C_subscale, BFI_N_subscale, BFI_A_subscale, BFI_O_subscale,
NFCC_P_subscale, NFCC_D_subscale, NFCC_C_subscale, NFCC_O_subscale, NFCC_A_subscale) %>%
gather(individual_differences_measure, individual_differences_sum_score,
c("BFI_E_subscale", "BFI_C_subscale", "BFI_N_subscale", "BFI_A_subscale", "BFI_O_subscale",
"NFCC_P_subscale", "NFCC_D_subscale", "NFCC_C_subscale", "NFCC_O_subscale", "NFCC_A_subscale")) %>%
na.omit() %>%
spread(individual_differences_measure, individual_differences_sum_score) %>%
rename(agreeabld = "BFI_A_subscale",
conscient = "BFI_C_subscale",
extro = "BFI_E_subscale",
neurot = "BFI_N_subscale",
openness = "BFI_O_subscale",
close_mind = "NFCC_C_subscale",
decisive = "NFCC_D_subscale",
order = "NFCC_O_subscale",
ambiguity = "NFCC_A_subscale",
predict = "NFCC_P_subscale")
data_subscales <- trimmed_data %>%
select(user_id, session_id,
BFI_E_subscale, BFI_C_subscale, BFI_N_subscale, BFI_A_subscale, BFI_O_subscale,
NFCC_P_subscale, NFCC_D_subscale, NFCC_C_subscale, NFCC_O_subscale, NFCC_A_subscale) %>%
gather(individual_differences_measure, individual_differences_sum_score,
c("BFI_E_subscale", "BFI_C_subscale", "BFI_N_subscale", "BFI_A_subscale", "BFI_O_subscale",
"NFCC_P_subscale", "NFCC_D_subscale", "NFCC_C_subscale", "NFCC_O_subscale", "NFCC_A_subscale")) %>%
na.omit()
data_subscales <- trimmed_data %>%
select(user_id, session_id,
BFI_E_subscale, BFI_C_subscale, BFI_N_subscale, BFI_A_subscale, BFI_O_subscale,
NFCC_P_subscale, NFCC_D_subscale, NFCC_C_subscale, NFCC_O_subscale, NFCC_A_subscale) %>%
gather(individual_differences_measure, individual_differences_sum_score,
c("BFI_E_subscale", "BFI_C_subscale", "BFI_N_subscale", "BFI_A_subscale", "BFI_O_subscale",
"NFCC_P_subscale", "NFCC_D_subscale", "NFCC_C_subscale", "NFCC_O_subscale", "NFCC_A_subscale")) %>%
na.omit() %>%
spread(individual_differences_measure, individual_differences_sum_score)
View(data_subscales)
data_subscales <- trimmed_data %>%
select(user_id, session_id,
BFI_E_subscale, BFI_C_subscale, BFI_N_subscale, BFI_A_subscale, BFI_O_subscale,
NFCC_P_subscale, NFCC_D_subscale, NFCC_C_subscale, NFCC_O_subscale, NFCC_A_subscale) %>%
gather(individual_differences_measure, individual_differences_sum_score,
c("BFI_E_subscale", "BFI_C_subscale", "BFI_N_subscale", "BFI_A_subscale", "BFI_O_subscale",
"NFCC_P_subscale", "NFCC_D_subscale", "NFCC_C_subscale", "NFCC_O_subscale", "NFCC_A_subscale")) %>%
na.omit() %>%
spread(individual_differences_measure, individual_differences_sum_score) %>%
rename(agreeabld = "BFI_A_subscale",
conscient = "BFI_C_subscale",
extro = "BFI_E_subscale",
neurot = "BFI_N_subscale",
openness = "BFI_O_subscale",
close_mind = "NFCC_C_subscale",
decisive = "NFCC_D_subscale",
order = "NFCC_O_subscale",
ambiguity = "NFCC_A_subscale",
predict = "NFCC_P_subscale")
data_subscales <- trimmed_data %>%
select(user_id, session_id,
BFI_E_subscale, BFI_C_subscale, BFI_N_subscale, BFI_A_subscale, BFI_O_subscale,
NFCC_P_subscale, NFCC_D_subscale, NFCC_C_subscale, NFCC_O_subscale, NFCC_A_subscale) %>%
gather(individual_differences_measure, individual_differences_sum_score,
c("BFI_E_subscale", "BFI_C_subscale", "BFI_N_subscale", "BFI_A_subscale", "BFI_O_subscale",
"NFCC_P_subscale", "NFCC_D_subscale", "NFCC_C_subscale", "NFCC_O_subscale", "NFCC_A_subscale"))
colnames(data_subscales)
data_subscales <- trimmed_data %>%
select(user_id, session_id,
BFI_E_subscale, BFI_C_subscale, BFI_N_subscale, BFI_A_subscale, BFI_O_subscale,
NFCC_P_subscale, NFCC_D_subscale, NFCC_C_subscale, NFCC_O_subscale, NFCC_A_subscale)
colnames(data_subscales)
data_subscales <- trimmed_data %>%
select(user_id, session_id,
BFI_E_subscale, BFI_C_subscale, BFI_N_subscale, BFI_A_subscale, BFI_O_subscale,
NFCC_P_subscale, NFCC_D_subscale, NFCC_C_subscale, NFCC_O_subscale, NFCC_A_subscale) %>%
gather(individual_differences_measure, individual_differences_sum_score,
c("BFI_E_subscale", "BFI_C_subscale", "BFI_N_subscale", "BFI_A_subscale", "BFI_O_subscale",
"NFCC_P_subscale", "NFCC_D_subscale", "NFCC_C_subscale", "NFCC_O_subscale", "NFCC_A_subscale")) %>%
na.omit() %>%
spread(individual_differences_measure, individual_differences_sum_score)
data_subscales <- trimmed_data %>%
select(user_id, session_id,
BFI_E_subscale, BFI_C_subscale, BFI_N_subscale, BFI_A_subscale, BFI_O_subscale,
NFCC_P_subscale, NFCC_D_subscale, NFCC_C_subscale, NFCC_O_subscale, NFCC_A_subscale) %>%
gather(individual_differences_measure, individual_differences_sum_score,
c("BFI_E_subscale", "BFI_C_subscale", "BFI_N_subscale", "BFI_A_subscale", "BFI_O_subscale",
"NFCC_P_subscale", "NFCC_D_subscale", "NFCC_C_subscale", "NFCC_O_subscale", "NFCC_A_subscale")) %>%
na.omit() %>%
spread(individual_differences_measure, individual_differences_sum_score) %>%
rename(agreeabld = "BFI_A_subscale",
conscient = "BFI_C_subscale",
extro = "BFI_E_subscale",
neurot = "BFI_N_subscale",
openness = "BFI_O_subscale",
close_mind = "NFCC_C_subscale",
decisive = "NFCC_D_subscale",
order = "NFCC_O_subscale",
#ambiguity = "NFCC_A_subscale",
predict = "NFCC_P_subscale")
renamed_data <- atttiudes_2.0_subset_exploratory %>%
select(political_identity,
individual_differences_sum_score, individual_differences_measure,
BFI_E_subscale, BFI_C_subscale, BFI_N_subscale, BFI_A_subscale, BFI_O_subscale,
NFCC_P_subscale, NFCC_D_subscale, NFCC_C_subscale, NFCC_O_subscale, NFCC_A_subscale)
renamed_data <- attitudes_2.0_subset_exploratory %>%
select(political_identity,
individual_differences_sum_score, individual_differences_measure,
BFI_E_subscale, BFI_C_subscale, BFI_N_subscale, BFI_A_subscale, BFI_O_subscale,
NFCC_P_subscale, NFCC_D_subscale, NFCC_C_subscale, NFCC_O_subscale, NFCC_A_subscale)
data_subscales <- attitudes_2.0_subset_exploratory %>%
select(user_id, session_id,
BFI_E_subscale, BFI_C_subscale, BFI_N_subscale, BFI_A_subscale, BFI_O_subscale,
NFCC_P_subscale, NFCC_D_subscale, NFCC_C_subscale, NFCC_O_subscale, NFCC_A_subscale) %>%
gather(individual_differences_measure, individual_differences_sum_score,
c("BFI_E_subscale", "BFI_C_subscale", "BFI_N_subscale", "BFI_A_subscale", "BFI_O_subscale",
"NFCC_P_subscale", "NFCC_D_subscale", "NFCC_C_subscale", "NFCC_O_subscale", "NFCC_A_subscale")) %>%
na.omit() %>%
spread(individual_differences_measure, individual_differences_sum_score) %>%
rename(agreeabld = "BFI_A_subscale",
conscient = "BFI_C_subscale",
extro = "BFI_E_subscale",
neurot = "BFI_N_subscale",
openness = "BFI_O_subscale",
close_mind = "NFCC_C_subscale",
decisive = "NFCC_D_subscale",
order = "NFCC_O_subscale",
#ambiguity = "NFCC_A_subscale",
predict = "NFCC_P_subscale")
data_subscales <- attitudes_2.0_subset_exploratory %>%
select(user_id, session_id,
BFI_E_subscale, BFI_C_subscale, BFI_N_subscale, BFI_A_subscale, BFI_O_subscale,
NFCC_P_subscale, NFCC_D_subscale, NFCC_C_subscale, NFCC_O_subscale, NFCC_A_subscale) %>%
gather(individual_differences_measure, individual_differences_sum_score,
c("BFI_E_subscale", "BFI_C_subscale", "BFI_N_subscale", "BFI_A_subscale", "BFI_O_subscale",
"NFCC_P_subscale", "NFCC_D_subscale", "NFCC_C_subscale", "NFCC_O_subscale", "NFCC_A_subscale")) %>%
na.omit() %>%
spread(individual_differences_measure, individual_differences_sum_score) %>%
rename(agreeabld = "BFI_A_subscale",
conscient = "BFI_C_subscale",
extro = "BFI_E_subscale",
neurot = "BFI_N_subscale",
openness = "BFI_O_subscale",
close_mind = "NFCC_C_subscale",
decisive = "NFCC_D_subscale",
order = "NFCC_O_subscale",
ambiguity = "NFCC_A_subscale",
predict = "NFCC_P_subscale")
data_subscales <- attitudes_2.0_subset_exploratory %>%
select(user_id, session_id,
BFI_E_subscale, BFI_C_subscale, BFI_N_subscale, BFI_A_subscale, BFI_O_subscale,
NFCC_P_subscale, NFCC_D_subscale, NFCC_C_subscale, NFCC_O_subscale, NFCC_A_subscale) %>%
gather(individual_differences_measure, individual_differences_sum_score,
c("BFI_E_subscale", "BFI_C_subscale", "BFI_N_subscale", "BFI_A_subscale", "BFI_O_subscale",
"NFCC_P_subscale", "NFCC_D_subscale", "NFCC_C_subscale", "NFCC_O_subscale", "NFCC_A_subscale")) %>%
na.omit() %>%
spread(individual_differences_measure, individual_differences_sum_score) %>%
rename(agreeabld = "BFI_A_subscale",
conscient = "BFI_C_subscale",
extro = "BFI_E_subscale",
neurot = "BFI_N_subscale",
openness = "BFI_O_subscale",
close_mind = "NFCC_C_subscale",
decisive = "NFCC_D_subscale",
order = "NFCC_O_subscale",
#ambiguity = "NFCC_A_subscale", # Error: Unknown column `NFCC_A_subscale`
predict = "NFCC_P_subscale")
data_scales <- attitudes_2.0_subset_exploratory %>%
select(user_id, session_id, political_identity,
individual_differences_sum_score, individual_differences_measure) %>%
mutate(political_identity = dplyr::recode(political_identity,
"Strongly Liberal" = 3,
"Moderately Liberal" = 2,
"Slightly Liberal" = 1,
"Neutral (Moderate)" = 0,
"Slightly Conservative" = -1,
"Moderately Conservative" = -2,
"Strongly Conservative" = -3)) %>%
spread(individual_differences_measure, individual_differences_sum_score) %>%
rename(imp_manag = "BIDR-IM",
self_decep = "BIDR-SDE",
bjw = "BJW",
racism = "BRS",
human_egal = "HE",
control_o = "ICAT-O",
control_s = "ICAT-S",
need_cog = "NFC",
work_ethic = "PE",
structure = "PNS",
self_esteem = "RSE",
rwa = "RWA",
soc_dom = "SDO",
s_monitor = "SM",
intpers_c = "SOC-IC",
per_effic = "SOC-PE") %>%
select(user_id,
political_identity,
imp_manag,
self_decep,
bjw,
racism,
human_egal,
control_o,
control_s,
need_cog,
work_ethic,
structure,
self_esteem,
rwa,
soc_dom,
s_monitor,
intpers_c,
per_effic)
my_function <- function(input) {mean(input, na.rm = TRUE)}
data_combined <- left_join(data_scales, data_subscales, by = "user_id") %>%
select(-session_id) %>%
# i have no idea what this does or why, but it makes the correlations below work. many NA without it.
group_by(user_id) %>%
summarize_all(my_function) %>%
ungroup() %>%
select(noquote(order(colnames(.)))) %>%
select(-user_id) %>%
mutate_all(.funs = function(input){ifelse(is.nan(input), NA, input)})
save(data_combined, file = "data/data_combined.RData")
# for visual inspection of data
cors <- cor(data_combined, method = "pearson", use = "pairwise.complete.obs") %>%
as.data.frame() %>%
select(political_identity)
plot_correlations <-
qgraph(cor(data_combined, method = "pearson", use = "pairwise.complete.obs"),
layout = "spring")
?cor.test
cor.test(RWA ~ BRS, data_combined)
data_combined %>%
select(RWA, BRS) %>%
na.omit() %>%
cor.test(RWA ~ BRS, data = .)
data_combined %>%
select(RWA, BRS) %>%
na.omit()
cor.test(bjw ~ racism, data_combined)
data_combined %>%
select(bjw, racism)
data_combined %>%
select(bjw, racism) %>%
na.omit()
30*4.5
data_combined %>%
select(bjw, racism) %>%
na.omit() %>%
cor.test(bjw ~ racism, data = .)
data_combined %>%
select(bjw, racism) %>%
na.omit()
data_combined %>%
select(bjw, racism) %>%
na.omit() %>%
cor.test(x = bjw, y = racism, data = .)
data_combined %>%
select(bjw, racism) %>%
na.omit() %>%
cor.test(x = "bjw", y = "racism", data = .)
data_combined %>%
select(bjw, racism) %>%
na.omit() %>%
cor.test(x = .$bjw, y = .$racism)
?cor.test
write_csv(data_combined, file = "data/data_combined.csv")
write_csv(data_combined, "data/data_combined.csv")
